# 计算机系统体系结构

## 一、体系结构的三种用法

- 指令集体系结构：描述了程序员看到的计算机的抽象视图，并且定义了汇编语言和编程模型。之所说是抽象的，是因为它并没有考虑计算机的实现
- 微体系结构：描述了一种指令集体系结构的实现方式。关注计算机的内部设计
- 系统体系结构：关注包括处理器、存储器、总线和外设在内的整个系统

## 二、计算机系统体系结构(Computer System Architecture)

### 1.  计算机系统（Computer System）

计算机系统包括读取并执行程序的中央处理器单元（center processing unit, CPU），保存程序和数据的存储器，以及将芯片转换为实用系统的其他子系统

#### 1.1 中央处理器单元(CPU)

计算机中实际执行程序的部分叫做CPU，或者更简单地被称作处理器

#### 1.2 微处理器

在单个硅片上实现的CPU叫做微处理器

#### 1.3 微机

围绕着微处理器构建的计算机被称为微机

#### 1.4 通用计算机的组成

1. CPU

2. Cache（缓存)

   Cache位于CPU外，目前绝大多数处理器都在CPU内集成了片上Cache；

   Cache是存放常用数据的高速、专用存储器

3. 总线：分为总线和系统总线

   总线将计算机的各个子系统连接在一起，数据通过总线从计算机中的一个位置传递到另一个位置

4. 主存：通常使用DRAM存储器

   主存中存放大量的工作数据

5. 辅存：磁盘驱动器

   辅存是指磁盘和CD-ROM，能够存放海量数据，加个却比Cache和主存便宜的多

6. I/O控制器

7. 显示控制器

信息（即程序和数据）保存在存储器中

#### 1.5 计算机

> 计算机分为存储程序数字计算机、模拟计算机、神经计算机、量子计算机以及生化计算机；

> 我们接触最多的就是最早由约翰·冯·诺依曼界定的存储程序数字计算机，是从个人计算机到手机等等系统的核心

##### 数字计算机的结构：

- 中央处理单元：读取并完成指定的操作
- 存储器系统：保存两类信息，<u>程序</u>，程序处理或者产生的<u>数据</u>

##### 通用计算机：

硬件按照程序的指示完成相当广泛的工作；

第一台数字计算机不是通用计算机，而是通过硬连线(hardwired)完成特定任务的。*硬连线是只计算机的功能之只能通过重新布线来改变*



#### 1.6 输出/输出(I/O)

输入（input）：指用户交给计算机的信息

输出（output）：指计算机返回给用户的信息

#### 1.7 程序

程序是计算机所执行的完成给定任务与的操作序列

##### 1.7.1 程序的执行过程

1. 从存储器中取出一条指令进行分析或者解码
2. 从存储器中取出指令所需的所有数据

具体例子，计算`z=x+y`：

指令：

```
load x
load y 
z = x + y
store z
stop

x
y
z
```

1. 读取第一条指令`load x` ,从存储器中读取变量x的值，并将它暂存到寄存器中
2. 第二条指令`load y`,从存储器中读取变量y的值，并将它暂存到另一个寄存器中
3. 第三条指令，将两个寄存器中的值相加，并将结果存储在第三个寄存器中
4. 第四条指令，将加法的结果写会存储单元Z

#### 1.8 寄存器

寄存器是CPU内部用来存放数据的存储单位。

#### 1.9 时钟

时钟提供了脉冲流，所有内部操作都在时钟脉冲的触发下进行。时钟频率是决定计算机速度的一个因素



