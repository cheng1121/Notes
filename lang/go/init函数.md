# init函数

## 作用 

- 变量的初始化
- 检查和修复程序状态
- 运行前注册，例如decoder，parser的作用
- 运行只需计算一次的模块，像sync.once的作用
- 其他

## 执行时机

- 初始化导入包

- 初始化包作用域的变量

- 执行包中的`init`函数

  PS：如果同一个包被多次导入也只会执行一次包的初始化

## 初始化顺序

- 同一个包中变量的初始化是按照文件名的字典顺序
- 同时根据依赖关系，没有依赖的变量最先初始化
- 之后按照字典和依赖关系，执行此包中所有的init函数

## 特性

- 不需要传入参数
- 没有返回值
- 不能被其他函数调用
- 同一个文件中可以有多个init函数(从上到下顺序执行)

## 特殊用法

导入包时，在包前面添加下划线`_`，表示只是想执行包中的init函数

```go
import _ "image/png"
```



## 参考文献

- [Go中的init函数](https://juejin.cn/post/6844903864555012104)

